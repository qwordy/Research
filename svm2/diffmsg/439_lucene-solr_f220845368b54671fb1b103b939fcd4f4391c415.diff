commit f220845368b54671fb1b103b939fcd4f4391c415
Author: Noble Paul <noble@apache.org>
Date:   Mon Jun 23 13:13:49 2014 +0000

    SOLR-6095 wait for http responses
    
    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1604791 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/solr/core/src/java/org/apache/solr/cloud/OverseerCollectionProcessor.java b/solr/core/src/java/org/apache/solr/cloud/OverseerCollectionProcessor.java
index 4415660..2d9b4fd 100644
--- a/solr/core/src/java/org/apache/solr/cloud/OverseerCollectionProcessor.java
+++ b/solr/core/src/java/org/apache/solr/cloud/OverseerCollectionProcessor.java
@@ -504,6 +504,7 @@ public class OverseerCollectionProcessor implements Runnable, ClosableThread {
     sreq.actualShards = sreq.shards;
     sreq.params = params;
     shardHandler.submit(sreq, replica, sreq.params);
+    shardHandler.takeCompletedOrError();
   }
 
   protected LeaderStatus amILeader() {
