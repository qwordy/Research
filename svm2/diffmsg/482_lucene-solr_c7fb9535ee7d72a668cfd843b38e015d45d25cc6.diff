commit c7fb9535ee7d72a668cfd843b38e015d45d25cc6
Author: Mark Robert Miller <markrmiller@apache.org>
Date:   Mon Nov 19 04:09:41 2012 +0000

    raise wait timeout to a minute
    
    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1411060 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/solr/core/src/java/org/apache/solr/core/CachingDirectoryFactory.java b/solr/core/src/java/org/apache/solr/core/CachingDirectoryFactory.java
index 01d2081..a15e17c 100644
--- a/solr/core/src/java/org/apache/solr/core/CachingDirectoryFactory.java
+++ b/solr/core/src/java/org/apache/solr/core/CachingDirectoryFactory.java
@@ -116,7 +116,7 @@ public abstract class CachingDirectoryFactory extends DirectoryFactory {
           while(val.refCnt != 0) {
             wait(100);
             
-            if (cnt++ >= 300) {
+            if (cnt++ >= 600) {
               log.error("Timeout waiting for all directory ref counts to be released");
               break;
             }
